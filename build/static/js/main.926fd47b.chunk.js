(this.webpackJsonpbitcoin_bootstrap_web=this.webpackJsonpbitcoin_bootstrap_web||[]).push([[0],{69:function(e,t,a){e.exports=a(96)},96:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(26),o=a.n(i),s=a(12),l=a(13),c=a(7),u=a(15),h=a(14),g=a(33),d=a(16),p=a.n(d),m=a(57),b=a(32),f=a(10),v=a(56),w=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return console.log("---Authentication"),null===this.props.contributor?r.a.createElement(b.a.Link,{href:"https://github.com/login/oauth/authorize?client_id=249829dba927c98cb3c8&allow_signup=false"},"Sign in with GitHub",r.a.createElement("img",{className:"ml-2",src:"/GitHub-Mark-32px.png",alt:"",height:"32",width:"32"})):r.a.createElement(r.a.Fragment,null,r.a.createElement("img",{className:"mr-2",src:this.props.contributor.avatar_url,alt:"",height:"25",width:"25"}),this.props.contributor.username)}}]),a}(r.a.Component);var E=function(e){return console.log("---Header"),r.a.createElement(m.a,{bg:"light",variant:"light"},r.a.createElement(m.a.Brand,{href:"#home"},r.a.createElement("img",{src:"/bitcoin-bootstrap-logo.png",alt:"",width:"69",height:"40",onClick:e.home,className:"d-inline-block align-top"})),r.a.createElement(b.a,{className:"mr-auto"},r.a.createElement(b.a.Link,{onClick:e.home,href:"#home"},"Home"),e.contributor&&r.a.createElement(r.a.Fragment,null,r.a.createElement(b.a.Link,{onClick:e.showRegistrationPage,href:"#registration"},"Registration"),r.a.createElement(b.a.Link,{onClick:e.showVotingPage,href:"#voting"},"Voting")),r.a.createElement(b.a.Link,{onClick:e.showLearnMorePage,href:"#learn-more"},"Learn more"),r.a.createElement(v.a,{title:"Contact",id:"basic-nav-dropdown"},r.a.createElement(v.a.Item,{href:"#bug-report",onClick:e.showBugReportPage},"Bug Report"),r.a.createElement(v.a.Item,{href:"#feature-request",onClick:e.showFeatureRequestPage},"Feature Request"))),r.a.createElement(f.a,{inline:!0},r.a.createElement(w,{contributor:e.contributor})))},y=a(67),k=a(9);var P=function(e){return console.log("---Introduction"),r.a.createElement(y.a,{className:"mt-3"},r.a.createElement("h4",null,"Bitcoin Bootstrap is a curated list of Bitcoin developers seeking financial help."),r.a.createElement("p",{className:"mt-3"},r.a.createElement("a",{href:"https://github.com/bitcoin/bitcoin/graphs/contributors",target:"_blank",rel:"noopener noreferrer"},"Contributors")," ","to the"," ",r.a.createElement("a",{href:"https://github.com/bitcoin/bitcoin",target:"_blank",rel:"noopener noreferrer"},"Bitcoin GitHub repository")," ","can register to be listed, and contributors can vote for those they believe deserve funding."),0===e.numCandidates&&r.a.createElement("p",null,"No contributor has registered yet. Be the first! Just sign in, enter a brief description about the work you are doing and why you should recieve funding and hit the register button and you will be listed."),0!==e.numCandidates&&r.a.createElement("p",null,"The list is displayed below and ordered by highest number of votes to lowest."),r.a.createElement("p",null,r.a.createElement(k.a,{href:"#learn-more",variant:"primary",onClick:e.showLearnMorePage},"Learn more")))},C=a(24),S=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).api_url="https://bitcoinbootstrap.org/api",n}return Object(l.a)(a,[{key:"vote",value:function(e){var t=this;this.props.isUpdatingCallback(e),console.log("Calling Vote"),p.a.post(this.api_url,{command:"Vote",access_token:this.props.contributor.access_token,vote:e}).then((function(a){var n=a.data;console.log("vote response: "+JSON.stringify(n)),n.error?t.handleError(n.error_code,"Could not record the vote. Please try again later."):t.props.updateState(n.contributor,n.candidates,{variant:"success",message:"You have successfully voted for "+e})})).catch((function(e){console.log(e),t.handleError(100,"Could not record the vote. Please try again later.")})).then((function(){t.props.isUpdatingCallback("")}))}},{key:"handleError",value:function(e,t){0===e||1===e?this.props.signOut():this.props.showAlert({variant:"danger",message:t})}},{key:"render",value:function(){var e=this;console.log("---UsernameButton");var t=null!==this.props.contributor,a=this.props.candidate.username,n=this.props.isUpdating,i=!1;return"Anonymous"===this.props.candidate.contributor_type&&(i=!0),r.a.createElement(r.a.Fragment,null,!t&&!i&&r.a.createElement("a",{style:{fontWeight:"bold"},href:this.props.candidate.html_url,target:"_blank",rel:"noopener noreferrer"},a),!t&&i&&r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{style:{fontWeight:"bold"}},a)),t&&!n&&this.props.contributor.voted_for!==a&&r.a.createElement(k.a,{variant:"success",size:"sm",onClick:function(){return e.vote(a)}},"Vote for ",a),t&&!n&&this.props.contributor.voted_for===a&&r.a.createElement(r.a.Fragment,null,r.a.createElement("b",null,r.a.createElement("span",{style:{color:"DodgerBlue"}},"Voted for ",a)),r.a.createElement("img",{className:"ml-2",src:"vote.png",alt:"",height:"30",width:"30"})),t&&n&&n!==a&&r.a.createElement(k.a,{disabled:!0,variant:"success",size:"sm",onClick:function(){return e.vote(a)}},"Vote for ",a),t&&n&&n===a&&r.a.createElement(k.a,{disabled:!0,variant:"success",size:"sm"},r.a.createElement(C.a,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true"})," Voting for "+a))}}]),a}(r.a.Component);var O=function(e){return console.log("---CandidatesListRow"),r.a.createElement("li",{className:"media mt-3"},r.a.createElement("div",{className:"img-with-text"},""!==e.candidate.avatar_url?r.a.createElement("a",{href:e.candidate.html_url,target:"_blank",rel:"noopener noreferrer"},r.a.createElement("img",{src:e.candidate.avatar_url,alt:"",height:"64",width:"64"})):r.a.createElement("img",{src:"bitcoin-anon.png",alt:"",height:"64",width:"64"}),r.a.createElement("p",{style:{textAlign:"center",fontWeight:"bold",color:"red",fontSize:"12px"}},e.candidate.votes," votes")),r.a.createElement("div",{className:"media-body ml-3 sm"},r.a.createElement(S,{contributor:e.contributor,candidate:e.candidate,updateState:e.updateState,signOut:e.signOut,showAlert:e.showAlert,isUpdating:e.isUpdating,isUpdatingCallback:e.isUpdatingCallback}),r.a.createElement("p",null,r.a.createElement("span",null,e.candidate.description))))};var R=function(e){return console.log("---CandidatesList"),r.a.createElement("ul",{className:"list-unstyled mt-5"},e.candidates.map((function(t){return r.a.createElement(O,{key:t.username,contributor:e.contributor,candidate:t,updateState:e.updateState,signOut:e.signOut,showAlert:e.showAlert,isUpdating:e.isUpdating,isUpdatingCallback:e.isUpdatingCallback})})))},_=a(68);var U=function(e){return r.a.createElement(_.a,{className:"mt-3",variant:e.alert.variant,onClose:e.deleteAlert,dismissible:!0},e.alert.message)},A=a(17),j=a(42),B=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={confirming:!1},n.confirm=n.confirm.bind(Object(c.a)(n)),n}return Object(l.a)(a,[{key:"confirm",value:function(){this.setState({confirming:!0}),this.props.confirm()}},{key:"render",value:function(){return console.log("---ConfirmationModal"),r.a.createElement(j.a,{show:!0,onHide:this.props.cancel},r.a.createElement(j.a.Header,{closeButton:!0},r.a.createElement(j.a.Title,null,"Registration")),r.a.createElement(j.a.Body,null,"Are you sure you want to unregister?"),r.a.createElement(j.a.Footer,null,r.a.createElement(k.a,{variant:"secondary",onClick:this.props.cancel,disabled:this.state.confirming},"Cancel"),!0===this.state.confirming&&r.a.createElement(k.a,{disabled:!0,variant:"primary"},r.a.createElement(C.a,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true"})," ","Unregistering..."),!1===this.state.confirming&&r.a.createElement(k.a,{variant:"primary",onClick:this.confirm},"Unregister")))}}]),a}(r.a.Component);var F=function(e){return r.a.createElement(r.a.Fragment,null,e.isRegistering?r.a.createElement(k.a,{disabled:!0,variant:"primary"},r.a.createElement(C.a,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true"})," ","Registering..."):r.a.createElement(k.a,{variant:"primary",onClick:e.register},"Register"))};var L=function(e){return r.a.createElement(r.a.Fragment,null,e.isUpdatingDescription?r.a.createElement(k.a,{disabled:!0,variant:"primary"},r.a.createElement(C.a,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true"})," ","Updating Description..."):r.a.createElement(k.a,{disabled:e.disabled,onClick:e.updateDescription},"Update Description"))},M=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={isRegistering:!1,isUpdatingDescription:!1,showUnregisterModal:!1,description:n.props.contributor.description},n.register=n.register.bind(Object(c.a)(n)),n.unregister=n.unregister.bind(Object(c.a)(n)),n.unregisterConfirmed=n.unregisterConfirmed.bind(Object(c.a)(n)),n.closeUnregisterModal=n.closeUnregisterModal.bind(Object(c.a)(n)),n.updateDescription=n.updateDescription.bind(Object(c.a)(n)),n.handleDescriptionChange=n.handleDescriptionChange.bind(Object(c.a)(n)),n.api_url="https://bitcoinbootstrap.org/api",n}return Object(l.a)(a,[{key:"handleDescriptionChange",value:function(e){this.setState({description:e.target.value})}},{key:"register",value:function(){var e=this;this.setState({isRegistering:!0}),console.log("Calling Register"),p.a.post(this.api_url,{command:"Register",access_token:this.props.contributor.access_token,description:this.state.description}).then((function(t){var a=t.data;if(console.log("register response: "+JSON.stringify(a)),!0===a.error)e.handleError(a.error_code,"Could not register. Please try again later.");else{e.props.updateState(a.contributor,a.candidates,{variant:"success",message:"You have successfully registered."})}})).catch((function(t){console.log(t),e.handleError(100,"Could not register. Please try again later.")})).then((function(){e.setState({isRegistering:!1})}))}},{key:"unregister",value:function(){this.setState({showUnregisterModal:!0})}},{key:"unregisterConfirmed",value:function(){var e=this;console.log("Calling Unregister"),p.a.post(this.api_url,{command:"Unregister",access_token:this.props.contributor.access_token}).then((function(t){var a=t.data;if(console.log("unregister response: "+JSON.stringify(a)),a.error)e.handleError(a.error_code,"Could not unregister. Please try again later.");else{e.setState({description:""});e.props.updateState(a.contributor,a.candidates,{variant:"success",message:"You successfully unregistered."})}})).catch((function(t){console.log(t),e.handleError(100,"Could not unregister. Please try again later.")})).then((function(){e.closeUnregisterModal()}))}},{key:"closeUnregisterModal",value:function(){this.setState({showUnregisterModal:!1})}},{key:"updateDescription",value:function(){var e=this;this.setState({isUpdatingDescription:!0}),console.log("Calling UpdateDescription"),p.a.post(this.api_url,{command:"UpdateDescription",access_token:this.props.contributor.access_token,description:this.state.description}).then((function(t){var a=t.data;console.log("update_description response: "+JSON.stringify(a)),a.error?e.handleError(a.error_code,"Could not update description. Please try again later."):e.props.updateState(a.contributor,a.candidates,{variant:"success",message:"You have successfully updated your description."})})).catch((function(t){console.log(t),e.handleError(100,"Could not update description. Please try again later.")})).then((function(){e.setState({isUpdatingDescription:!1})}))}},{key:"handleError",value:function(e,t){0===e||1===e?this.props.signOut():this.props.showAlert({variant:"danger",message:t})}},{key:"render",value:function(){return console.log("---Registration"),r.a.createElement(r.a.Fragment,null,!0===this.state.showUnregisterModal&&r.a.createElement(B,{confirm:this.unregisterConfirmed,cancel:this.closeUnregisterModal}),r.a.createElement("div",{className:"mt-3"},!1===this.props.contributor.is_candidate&&r.a.createElement(A.a,{bg:"light"},r.a.createElement(A.a.Body,null,r.a.createElement(r.a.Fragment,null,"Please describe the contributions you have made and what you are currently working on.",r.a.createElement("p",null,"Don't forget to include information on how people can get money to you either in the description below or on your GitHub profile page.")))),!0===this.props.contributor.is_candidate&&r.a.createElement(A.a,{bg:"light"},r.a.createElement(A.a.Body,null,r.a.createElement(r.a.Fragment,null,r.a.createElement("span",null,"You are registered as a candidate.")))),r.a.createElement(f.a,{className:"mt-3"},r.a.createElement(f.a.Group,{controlId:"description"},r.a.createElement(f.a.Label,null,"Why should you receive funding? (500 characters max)"),r.a.createElement(f.a.Control,{name:"description",as:"textarea",rows:4,maxLength:"500",onChange:this.handleDescriptionChange,value:this.state.description})),!this.props.contributor.is_candidate&&r.a.createElement(F,{register:this.register,isRegistering:this.state.isRegistering}),this.props.contributor.is_candidate&&r.a.createElement(r.a.Fragment,null,r.a.createElement(L,{disabled:0===this.state.description.length,isUpdatingDescription:this.state.isUpdatingDescription,updateDescription:this.updateDescription}),r.a.createElement(k.a,{disabled:this.state.isUpdatingDescription,className:"ml-2",onClick:this.unregister},"Unregister")))))}}]),a}(r.a.Component);var N=function(e){return console.log("---Voting"),r.a.createElement(r.a.Fragment,null,r.a.createElement(A.a,{bg:"light",className:"mt-3"},r.a.createElement(A.a.Body,null,r.a.createElement("div",{className:"mt-3"},""!==e.contributor.voted_for&&"You voted for "+e.contributor.voted_for+".",""===e.contributor.voted_for&&"You haven't voted for anyone yet."))),r.a.createElement(R,{contributor:e.contributor,candidates:e.candidates,updateState:e.updateState,signOut:e.signOut,showAlert:e.showAlert,isUpdating:e.isUpdating,isUpdatingCallback:e.isUpdatingCallback}))};var D=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",{className:"mt-3"},"Introduction"),r.a.createElement("b",null,"The History"),r.a.createElement("p",null),"Starting with Satoshi Nakamoto, Bitcoin was built by unpaid volunteers who envisioned a better world with Bitcoin. Most worked on it on the side while working a normal job to support themselves. Some even worked on it while living off their personal savings. Eventually, some found jobs that pay them to work on Bitcoin, but most continue unpaid.",r.a.createElement("p",null),r.a.createElement("b",null,"The Problem"),r.a.createElement("p",null),"Many people recognize the contributions of these selfless workers, and would like to give back to the community by financially helping one of these unpaid Bitcoin developers. But which one? Which ones are looking for help? Which ones are doing good work? Unless you are a Bitcoin developer familiar with the technology and working in the trenches, it is hard to know which individuals are most deserving of help.",r.a.createElement("p",null),r.a.createElement("b",null,"The Solution"),r.a.createElement("p",null),"But Bitcoin developers ",r.a.createElement("i",null,"are")," familiar with the technology and ",r.a.createElement("i",null,"are")," working in the trenches. They already know who is doing good work and who is most deserving of help. We just need to bring that knowledge to the surface in an accessible way. To do that, contributors to Bitcoin core can register on this website to be placed on a list of candidates seeking financial help. Then other contributors can vote on them. In this way, the most eligible developers will rise to the top, as ranked by other developers. This publicly viewable list can then be used by patrons researching who to fund.",r.a.createElement("p",null),r.a.createElement("h3",null,"Voting"),r.a.createElement("span",null,"Any contributor to the Bitcoin GitHub repository can vote. Simply sign in and click on your favorite candidate in the list. Candidates are displayed in the list from highest number of votes at the top to lowest number of votes at the bottom.",r.a.createElement("p",null),r.a.createElement("ul",null,r.a.createElement("li",null,"Every contributor gets one vote."),r.a.createElement("li",null,"You can vote for any candidate, including yourself."),r.a.createElement("li",null,"Your vote is private. No one will ever know who you voted for."),r.a.createElement("li",null,"You can change your vote at any time, and as many times as you wish."))),r.a.createElement("p",null),r.a.createElement("h3",null,"Registration"),r.a.createElement("span",null,"Any contributor to the Bitcoin GitHub repository can register to be listed. Just sign in, enter a brief description on why you should receive funding, and hit the register button. You willl be immediately listed and publicly viewable. It's really that simple.",r.a.createElement("p",null),r.a.createElement("p",null,"Make sure to include information on how people can get money to you in the description, or include a link to a page that does."),r.a.createElement("p",null),r.a.createElement("ul",null,r.a.createElement("li",null,"You will be immediately added to the candidates list when you register."),r.a.createElement("li",null,"You will be immediately removed from the candidates list if you unregister."),r.a.createElement("li",null,"Other contributors will be able to vote for you."),r.a.createElement("li",null,"You can update your description at any time."),r.a.createElement("li",null,"You can register and unregister as many times as you wish."),r.a.createElement("li",null,"Once you are receiving enough funding to survive, unregister so that others can get the financial assistance they need.")),r.a.createElement("p",null),r.a.createElement("img",{src:"anonymous.png",alt:"",height:"64",width:"64"}),r.a.createElement("b",null,r.a.createElement("i",null,"Note on Anonymous Contributors")),r.a.createElement("p",null,"In order for an anonymous contributor to be verified as a contributor, the email address associated with your anonymous contribution must match a public email address in your GitHub profile. Otherwise, there is no way to verify that you made a contribution.")))},q=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={description:""},n.handleDescriptionChange=n.handleDescriptionChange.bind(Object(c.a)(n)),n.submit=n.submit.bind(Object(c.a)(n)),n.api_url="https://bitcoinbootstrap.org/api",n}return Object(l.a)(a,[{key:"handleDescriptionChange",value:function(e){this.setState({description:e.target.value})}},{key:"submit",value:function(){var e=this;this.props.isUpdatingCallback(!0);var t=null;this.props.contributor&&(t=this.props.contributor.username),console.log("Calling CreateBugReport"),p.a.post(this.api_url,{command:"CreateBugReport",username:t,description:this.state.description}).then((function(t){var a=t.data;console.log("create_bug_report response: "+JSON.stringify(a)),a.error?e.props.showAlert({variant:"danger",message:"Could not record the bug report. Please try again later."}):(e.props.showAlert({variant:"success",message:"Thanks for the bug report!"}),e.setState({description:""}))})).catch((function(t){console.log(t),e.props.showAlert({variant:"danger",message:"Could not record the bug report. Please try again later."})})).then((function(){e.props.isUpdatingCallback(!1)}))}},{key:"render",value:function(){return console.log("---BugReportPage"),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"mt-3"},r.a.createElement(A.a,{bg:"light"},r.a.createElement(A.a.Body,null,r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,"When reporting a bug, please include:"),r.a.createElement("ul",null,r.a.createElement("li",null,"The steps to reproduce the bug."),r.a.createElement("li",null,"The browser you are using."),r.a.createElement("li",null,"The operating system you are using."),r.a.createElement("li",null,"Optionally include your email address if it's ok to contact you for additional information."))))),r.a.createElement(f.a,{className:"mt-3"},r.a.createElement(f.a.Group,{controlId:"description"},r.a.createElement(f.a.Label,null,"What is the problem? (500 characters max)"),r.a.createElement(f.a.Control,{name:"description",as:"textarea",rows:3,maxLength:"500",onChange:this.handleDescriptionChange,value:this.state.description})),r.a.createElement(k.a,{disabled:this.props.isUpdating||0===this.state.description.length,onClick:this.submit},"Submit"))))}}]),a}(r.a.Component),V=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={description:""},n.handleDescriptionChange=n.handleDescriptionChange.bind(Object(c.a)(n)),n.submit=n.submit.bind(Object(c.a)(n)),n.api_url="https://bitcoinbootstrap.org/api",n}return Object(l.a)(a,[{key:"handleDescriptionChange",value:function(e){this.setState({description:e.target.value})}},{key:"submit",value:function(){var e=this;this.props.isUpdatingCallback(!0);var t=null;this.props.contributor&&(t=this.props.contributor.username),console.log("Calling CreateFeatureRequest"),p.a.post(this.api_url,{command:"CreateFeatureRequest",username:t,description:this.state.description}).then((function(t){var a=t.data;console.log("create_feature_request response: "+JSON.stringify(a)),a.error?e.props.showAlert({variant:"danger",message:"Could not record the feature request. Please try again later."}):(e.props.showAlert({variant:"success",message:"Thanks for the feature request!"}),e.setState({description:""}))})).catch((function(t){console.log(t),e.props.showAlert({variant:"danger",message:"Could not record the feature request. Please try again later."})})).then((function(){e.props.isUpdatingCallback(!1)}))}},{key:"render",value:function(){return console.log("---FeatureRequestPage"),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"mt-3"},r.a.createElement(A.a,{bg:"light"},r.a.createElement(A.a.Body,null,r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,"When requesting a feature, please include a detailed description of how it should work.")))),r.a.createElement(f.a,{className:"mt-3"},r.a.createElement(f.a.Group,{controlId:"description"},r.a.createElement(f.a.Label,null,"What is your idea? (500 characters max)"),r.a.createElement(f.a.Control,{name:"description",as:"textarea",rows:3,maxLength:"500",onChange:this.handleDescriptionChange,value:this.state.description})),r.a.createElement(k.a,{disabled:this.props.isUpdating||0===this.state.description.length,onClick:this.submit},"Submit"))))}}]),a}(r.a.Component);var I=function(e){return console.log("---LoadingSpinner"),r.a.createElement("div",{className:"text-center",style:{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)"}},r.a.createElement(C.a,{animation:"border",role:"status"},r.a.createElement("span",{className:"sr-only"},"Loading...")))},T=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={isUpdating:null,alert:null,appState:"loading",contributor:null,candidates:[]},n.isUpdatingCallback=n.isUpdatingCallback.bind(Object(c.a)(n)),n.updateState=n.updateState.bind(Object(c.a)(n)),n.showAlert=n.showAlert.bind(Object(c.a)(n)),n.deleteAlert=n.deleteAlert.bind(Object(c.a)(n)),n.showRegistrationPage=n.showRegistrationPage.bind(Object(c.a)(n)),n.showVotingPage=n.showVotingPage.bind(Object(c.a)(n)),n.showLearnMorePage=n.showLearnMorePage.bind(Object(c.a)(n)),n.showBugReportPage=n.showBugReportPage.bind(Object(c.a)(n)),n.showFeatureRequestPage=n.showFeatureRequestPage.bind(Object(c.a)(n)),n.home=n.home.bind(Object(c.a)(n)),n.api_url="https://bitcoinbootstrap.org/api",n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){null!==this.getCode()?this.signInWithCode(this.getCode()):null!==this.getAccessToken()?this.signInWithAccessToken(this.getAccessToken()):this.getCandidates()}},{key:"getCode",value:function(){return new URL(window.location.href).searchParams.get("code")}},{key:"getAccessToken",value:function(){return localStorage.getItem("access_token")}},{key:"signInWithCode",value:function(e){var t=this;window.history.pushState({},null,"home"),console.log("Calling SigninWithCode"),p.a.post(this.api_url,{command:"SigninWithCode",code:e}).then((function(e){var a=e.data;if(console.log("signin_with_code response: "+JSON.stringify(a)),a.error)1===a.error_code?t.showAlert({variant:"info",message:"Only contributors to the Bitcoin GitHub repository are allowed to sign in."}):t.signOut();else{localStorage.setItem("access_token",a.contributor.access_token);var n=a.candidates;n.sort((function(e,t){return t.votes-e.votes})),t.setState({appState:"signedIn",contributor:a.contributor,candidates:n})}})).catch((function(e){console.log(e)}))}},{key:"signInWithAccessToken",value:function(e){var t=this;console.log("Calling SigninWithAccessToken"),p.a.post(this.api_url,{command:"SigninWithAccessToken",access_token:e}).then((function(e){var a=e.data;if(console.log("signin_with_access_token response: "+JSON.stringify(a)),a.error)0!==a.error_code&&1!==a.error_code||t.signOut();else{var n=a.candidates;n.sort((function(e,t){return t.votes-e.votes})),t.setState({appState:"signedIn",contributor:a.contributor,candidates:n})}})).catch((function(e){console.log(e)}))}},{key:"getCandidates",value:function(){var e=this;console.log("Calling GetCandidates"),p.a.post(this.api_url,{command:"GetCandidates"}).then((function(t){var a=t.data;if(console.log("get_candidates response: "+JSON.stringify(a)),a.error)e.setState({appState:"signedOut"});else{var n=a.candidates;n.sort((function(e,t){return t.votes-e.votes})),e.setState({appState:"signedOut",candidates:n})}})).catch((function(t){console.log(t),e.setState({appState:"signedOut"})}))}},{key:"isUpdatingCallback",value:function(e){this.setState({isUpdating:e})}},{key:"home",value:function(){var e="";this.state.contributor?e="signedIn":null===this.state.contributor&&(e="signedOut"),this.setState({appState:e})}},{key:"showAlert",value:function(e){this.setState({alert:e})}},{key:"deleteAlert",value:function(){this.setState({alert:null})}},{key:"showRegistrationPage",value:function(){this.setState({appState:"registrationPage"})}},{key:"showVotingPage",value:function(){this.setState({appState:"votingPage"})}},{key:"showLearnMorePage",value:function(){this.setState({appState:"learnMorePage"})}},{key:"showBugReportPage",value:function(){this.setState({appState:"bugReportPage"})}},{key:"showFeatureRequestPage",value:function(){this.setState({appState:"featureRequestPage"})}},{key:"signOut",value:function(){localStorage.removeItem("access_token"),this.setState({appState:"loading",contributor:null},this.landingPage)}},{key:"updateState",value:function(e,t,a){t.sort((function(e,t){return t.votes-e.votes})),this.setState({alert:a,contributor:e,candidates:t})}},{key:"render",value:function(){return console.log("---App"),"signedOut"===this.state.appState?r.a.createElement(g.a,null,r.a.createElement(E,{contributor:this.state.contributor,home:this.home,showRegistrationPage:this.showRegistrationPage,showVotingPage:this.showVotingPage,showLearnMorePage:this.showLearnMorePage,showBugReportPage:this.showBugReportPage,showFeatureRequestPage:this.showFeatureRequestPage}),null!==this.state.alert&&r.a.createElement(U,{alert:this.state.alert,deleteAlert:this.deleteAlert}),r.a.createElement(P,{numCandidates:this.state.candidates.length,showLearnMorePage:this.showLearnMorePage}),0!==this.state.candidates.length&&r.a.createElement(R,{contributor:null,candidates:this.state.candidates})):"signedIn"===this.state.appState?r.a.createElement(g.a,null,r.a.createElement(E,{contributor:this.state.contributor,home:this.home,showRegistrationPage:this.showRegistrationPage,showVotingPage:this.showVotingPage,showLearnMorePage:this.showLearnMorePage,showBugReportPage:this.showBugReportPage,showFeatureRequestPage:this.showFeatureRequestPage}),null!==this.state.alert&&r.a.createElement(U,{alert:this.state.alert,deleteAlert:this.deleteAlert}),r.a.createElement(R,{contributor:null,candidates:this.state.candidates})):"registrationPage"===this.state.appState?r.a.createElement(g.a,null,r.a.createElement(E,{contributor:this.state.contributor,home:this.home,showRegistrationPage:this.showRegistrationPage,showVotingPage:this.showVotingPage,showLearnMorePage:this.showLearnMorePage,showBugReportPage:this.showBugReportPage,showFeatureRequestPage:this.showFeatureRequestPage}),null!==this.state.alert&&r.a.createElement(U,{alert:this.state.alert,deleteAlert:this.deleteAlert}),r.a.createElement(M,{contributor:this.state.contributor,updateState:this.updateState,signOut:this.signOut,showAlert:this.showAlert})):"votingPage"===this.state.appState?r.a.createElement(g.a,null,r.a.createElement(E,{contributor:this.state.contributor,home:this.home,showRegistrationPage:this.showRegistrationPage,showVotingPage:this.showVotingPage,showLearnMorePage:this.showLearnMorePage,showBugReportPage:this.showBugReportPage,showFeatureRequestPage:this.showFeatureRequestPage}),null!==this.state.alert&&r.a.createElement(U,{alert:this.state.alert,deleteAlert:this.deleteAlert}),r.a.createElement(N,{contributor:this.state.contributor,candidates:this.state.candidates,updateState:this.updateState,signOut:this.signOut,showAlert:this.showAlert,isUpdating:this.state.isUpdating,isUpdatingCallback:this.isUpdatingCallback})):"learnMorePage"===this.state.appState?r.a.createElement(g.a,null,r.a.createElement(E,{contributor:this.state.contributor,home:this.home,showRegistrationPage:this.showRegistrationPage,showVotingPage:this.showVotingPage,showLearnMorePage:this.showLearnMorePage,showBugReportPage:this.showBugReportPage,showFeatureRequestPage:this.showFeatureRequestPage}),null!==this.state.alert&&r.a.createElement(U,{alert:this.state.alert,deleteAlert:this.deleteAlert}),r.a.createElement(D,{contributor:this.state.contributor})):"bugReportPage"===this.state.appState?r.a.createElement(g.a,null,r.a.createElement(E,{contributor:this.state.contributor,home:this.home,showRegistrationPage:this.showRegistrationPage,showVotingPage:this.showVotingPage,showLearnMorePage:this.showLearnMorePage,showBugReportPage:this.showBugReportPage,showFeatureRequestPage:this.showFeatureRequestPage}),null!==this.state.alert&&r.a.createElement(U,{alert:this.state.alert,deleteAlert:this.deleteAlert}),r.a.createElement(q,{contributor:this.state.contributor,showAlert:this.showAlert,isUpdating:this.state.isUpdating,isUpdatingCallback:this.isUpdatingCallback})):"featureRequestPage"===this.state.appState?r.a.createElement(g.a,null,r.a.createElement(E,{contributor:this.state.contributor,home:this.home,showRegistrationPage:this.showRegistrationPage,showVotingPage:this.showVotingPage,showLearnMorePage:this.showLearnMorePage,showBugReportPage:this.showBugReportPage,showFeatureRequestPage:this.showFeatureRequestPage}),null!==this.state.alert&&r.a.createElement(U,{alert:this.state.alert,deleteAlert:this.deleteAlert}),r.a.createElement(V,{contributor:this.state.contributor,showAlert:this.showAlert,isUpdating:this.state.isUpdating,isUpdatingCallback:this.isUpdatingCallback})):"loading"===this.state.appState?r.a.createElement(I,null):void 0}}]),a}(r.a.Component);a(95);o.a.render(r.a.createElement(T,null),document.getElementById("root"))}},[[69,1,2]]]);
//# sourceMappingURL=main.926fd47b.chunk.js.map